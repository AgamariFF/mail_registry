<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–æ—á—Ç–æ–≤—ã–π —Ä–µ–µ—Å—Ç—Ä</title>
    <link rel="stylesheet" href="../static/style.css">
</head>
<body>
    <div class="container">
        <!-- –®–∞–ø–∫–∞ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º —Ä–∞–∑–¥–µ–ª–∞ -->
        <div class="header">
            <h1>–ü–æ—á—Ç–æ–≤—ã–π —Ä–µ–µ—Å—Ç—Ä</h1>
            <div class="subtitle">
                <span>–¢–µ–∫—É—â–∏–π —Ä–∞–∑–¥–µ–ª:</span>
                <div class="badge" id="currentSection">–ò—Å—Ö–æ–¥—è—â–∏–µ –ø–∏—Å—å–º–∞</div>
            </div>
        </div>

        <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–∞–∑–¥–µ–ª–æ–≤ -->
        <div class="section-switcher">
            <button class="switch-btn active" data-section="outgoing">–ò—Å—Ö–æ–¥—è—â–∏–µ</button>
            <button class="switch-btn" data-section="incoming">–í—Ö–æ–¥—è—â–∏–µ</button>
        </div>

        <!-- –ü–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ -->
        <div class="toolbar">
            <p>–î–æ–±–∞–≤–∏—Ç—å –ø–∏—Å—å–º–æ:</p>
            <a href="/mail/addOut" class="add-btn">
                <span>+</span>
                –ò—Å—Ö–æ–¥—è—â–µ–µ
            </a>
            <a href="/mail/addInc" class="add-btn">
                <span>+</span>
                –í—Ö–æ–¥—è—â–µ–µ
            </a>
            
            <div class="filters">
                <input type="text" class="search-box" placeholder="–ü–æ–∏—Å–∫..." id="searchInput">
                <select class="search-box" id="executorFilter">
                    <option value="">–í—Å–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏</option>
                    <option value="–ö–µ–¥—Ä–æ–≤">–ö–µ–¥—Ä–æ–≤</option>
                    <option value="–î—Ä–æ–∑–¥–æ–≤—Å–∫–∏–π">–î—Ä–æ–∑–¥–æ–≤—Å–∫–∏–π</option>
                    <option value="–®–µ—Ö–∞–≤—Ü–æ–≤">–®–µ—Ö–∞–≤—Ü–æ–≤</option>
                </select>
            </div>
        </div>

        <!-- –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è –∏—Å—Ö–æ–¥—è—â–∏—Ö –ø–∏—Å–µ–º -->
        <div id="outgoingTable" class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>–ò—Å—Ö–æ–¥—è—â–∏–π –Ω–æ–º–µ—Ä</th>
                        <th>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</th>
                        <th>–ê–¥—Ä–µ—Å–∞—Ç</th>
                        <th>–ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</th>
                        <th>–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å</th>
                        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                    </tr>
                </thead>
                <tbody id="outgoingLettersTable">
                    <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                </tbody>
            </table>
        </div>

        <!-- –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è –≤—Ö–æ–¥—è—â–∏—Ö –ø–∏—Å–µ–º -->
        <div id="incomingTable" class="table-container" style="display: none;">
            <table>
                <thead>
                    <tr>
                        <th>–í—Ö–æ–¥—è—â–∏–π –Ω–æ–º–µ—Ä</th>
                        <th>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</th>
                        <th>–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å</th>
                        <th>–ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</th>
                        <th>–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª</th>
                        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                    </tr>
                </thead>
                <tbody id="incomingLettersTable">
                    <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                </tbody>
            </table>
        </div>
    </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <div id="editModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="editModalTitle">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∏—Å—å–º–∞</h2>
                <button class="close-btn" onclick="closeEditModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="editForm">
                    <input type="hidden" id="editId">
                    <input type="hidden" id="editType">
                    
                    <!-- –û–±—â–∏–µ –ø–æ–ª—è -->
                    <div class="form-group">
                        <label for="editSubject">–ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:</label>
                        <textarea id="editSubject" name="subject" rows="3" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="editRegistrationDate">–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</label>
                        <input type="date" id="editRegistrationDate" name="registration_date" required>
                    </div>

                    <!-- –ü–æ–ª—è –¥–ª—è –∏—Å—Ö–æ–¥—è—â–∏—Ö –ø–∏—Å–µ–º -->
                    <div id="outgoingFields" class="letter-fields">
                        <div class="form-group">
                            <label for="editOutgoingNumber">–ò—Å—Ö–æ–¥—è—â–∏–π –Ω–æ–º–µ—Ä:</label>
                            <input type="text" id="editOutgoingNumber" name="outgoing_number" required>
                        </div>
                        <div class="form-group">
                            <label for="editRecipient">–ê–¥—Ä–µ—Å–∞—Ç:</label>
                            <input type="text" id="editRecipient" name="recipient" required>
                        </div>
                        <div class="form-group">
                            <label for="editExecutor">–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:</label>
                            <select id="editExecutor" name="executor" required>
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è</option>
                                <option value="–ö–µ–¥—Ä–æ–≤">–ö–µ–¥—Ä–æ–≤</option>
                                <option value="–î—Ä–æ–∑–¥–æ–≤—Å–∫–∏–π">–î—Ä–æ–∑–¥–æ–≤—Å–∫–∏–π</option>
                                <option value="–®–µ—Ö–∞–≤—Ü–æ–≤">–®–µ—Ö–∞–≤—Ü–æ–≤</option>
                            </select>
                        </div>
                    </div>

                    <!-- –ü–æ–ª—è –¥–ª—è –≤—Ö–æ–¥—è—â–∏—Ö –ø–∏—Å–µ–º -->
                    <div id="incomingFields" class="letter-fields" style="display: none;">
                        <div class="form-group">
                            <label for="editInternalNumber">–í—Ö–æ–¥—è—â–∏–π –Ω–æ–º–µ—Ä:</label>
                            <input type="text" id="editInternalNumber" name="internal_number" required>
                        </div>
                        <div class="form-group">
                            <label for="editExternalNumber">–í–Ω–µ—à–Ω–∏–π –Ω–æ–º–µ—Ä:</label>
                            <input type="text" id="editExternalNumber" name="external_number">
                        </div>
                        <div class="form-group">
                            <label for="editSender">–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å:</label>
                            <input type="text" id="editSender" name="sender" required>
                        </div>
                        <div class="form-group">
                            <label for="editAddressee">–ê–¥—Ä–µ—Å–∞—Ç:</label>
                            <input type="text" id="editAddressee" name="addressee" required>
                        </div>
                        <div class="form-group">
                            <label for="editRegisteredBy">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª:</label>
                            <select id="editRegisteredBy" name="registered_by" required>
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</option>
                                <option value="–ö–µ–¥—Ä–æ–≤">–ö–µ–¥—Ä–æ–≤</option>
                                <option value="–î—Ä–æ–∑–¥–æ–≤—Å–∫–∏–π">–î—Ä–æ–∑–¥–æ–≤—Å–∫–∏–π</option>
                                <option value="–®–µ—Ö–∞–≤—Ü–æ–≤">–®–µ—Ö–∞–≤—Ü–æ–≤</option>
                            </select>
                        </div>
                    </div>

                    <!-- –ü–æ–ª–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ -->
                    <div class="form-group">
                        <label for="editFile">–ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–π —Ñ–∞–π–ª:</label>
                        <input type="file" id="editFile" name="file" accept=".pdf,.doc,.docx,.jpg,.jpeg,.png">
                        <div id="currentFileInfo" class="file-info" style="display: none;">
                            <small>–¢–µ–∫—É—â–∏–π —Ñ–∞–π–ª: <span id="currentFileName"></span></small>
                            <button type="button" class="btn-remove-file" onclick="removeFile()">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-cancel" onclick="closeEditModal()">–û—Ç–º–µ–Ω–∞</button>
                        <button type="submit" class="btn btn-save">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="../static/script.js"></script>
</body>
</html>